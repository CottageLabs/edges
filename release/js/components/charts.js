$.extend(edges,{newChart:function(e){return e||(e={}),edges.Chart.prototype=edges.newComponent(e),new edges.Chart(e)},Chart:function(e){this.category=e.category||"chart",this.display=e.display||"",this.dataSeries=e.dataSeries||!1,this.dataFunction=e.dataFunction||!1,this.dataFunctionClosure=e.dataFunctionClosure||!1,this.aggregations=e.aggregations||[],this.dfArgs=e.dfArgs||{useAggregations:[],seriesKeys:{}},this.defaultRenderer=e.defaultRenderer||"newMultibarRenderer",this.init=function(e){edges.newComponent().init.call(this,e);for(var t=0;t<this.aggregations.length;t++){var r=this.aggregations[t];-1===$.inArray(r.name,this.dfArgs.useAggregations)&&this.dfArgs.useAggregations.push(r.name)}this.aggregations.length>0&&this.dataFunctionClosure&&(this.dataFunction=this.dataFunctionClosure(this.dfArgs))},this.contrib=function(e){for(var t=0;t<this.aggregations.length;t++)e.addAggregation(this.aggregations[t])},this.synchronise=function(){this.dataFunction&&(this.dataSeries=this.dataFunction(this))}},ChartDataFunctions:{terms:function(e){var t=e.useAggregations||[],r=e.seriesKeys||{};return function(e){var a=[];if(!e.edge.result)return a;for(var n=0;n<t.length;n++){var s=t[n],i=e.edge.result.data.aggregations[s].buckets,u={};u.key=r[s],u.values=[];for(var l=0;l<i.length;l++){var o=i[l].doc_count,d=i[l].key;u.values.push({label:d,value:o})}a.push(u)}return a}},termsStats:function(e){var t=e.useAggregations||[],r=e.seriesKeys||{},a=e.seriesFor||[];return function(e){var n=[];if(!e.edge.result)return n;for(var s=0;s<t.length;s++)for(var i=t[s],u=i.split(" "),l=0;l<a.length;l++){var o=a[l],d={};d.key=r[i+" "+o],d.values=[];for(var g=e.edge.result.data.aggregations[u[0]].buckets,h=0;h<g.length;h++){var f=g[h][u[1]],v=g[h].key,c=f[o];d.values.push({label:v,value:c})}n.push(d)}return n}},recordsXY:function(e){var t=e.x,r=void 0===e.x_default?0:e.x_default,a=e.y,n=void 0===e.y_default?0:e.y_default,s=e.key;return function(e){var i=[];if(!e.edge.result)return i;var u={};u.key=s,u.values=[];for(var l=e.edge.result.results(),o=0;o<l.length;o++){var d=l[o],g=edges.objVal(t,d,r),h=edges.objVal(a,d,n);u.values.push({label:g,value:h})}return i.push(u),i}},cumulativeXY:function(e){var t=e.x,r=void 0===e.x_default?0:e.x_default,a=e.y,n=void 0===e.y_default?0:e.y_default,s=e.key,i=e.accumulate||"y";return function(e){var u=[];if(!e.edge.result)return u;var l={};l.key=s,l.values=[];for(var o=0,d=e.edge.result.results(),g=0;g<d.length;g++){var h=d[g],f=edges.objVal(t,h,r),v=edges.objVal(a,h,n);"x"===i?(o+=f,l.values.push({label:o,value:v})):"y"===i&&(o+=v,l.values.push({label:f,value:o}))}return u.push(l),u}},totalledList:function(e){var t=e.listPath||"",r=e.seriesKey||"",a=e.keyField||!1,n=e.valueField||!1;return function(e){var s=[];if(!e.edge.result)return s;var i={};i.key=r,i.values=[];for(var u={},l=e.edge.result.results(),o=0;o<l.length;o++)for(var d=l[o],g=edges.objVal(t,d,[]),h=0;h<g.length;h++){var f=g[h],v=edges.objVal(a,f,!1),c=edges.objVal(n,f,0);v in u?u[v]+=c:u[v]=c}for(v in u){var y=u[v];i.values.push({label:v,value:y})}return s.push(i),s}}},newPieChart:function(e){return e||(e={}),edges.PieChart.prototype=edges.newChart(e),new edges.PieChart(e)},PieChart:function(e){this.defaultRenderer=e.defaultRenderer||"newPieChartRenderer"},newHorizontalMultibar:function(e){return e||(e={}),edges.HorizontalMultibar.prototype=edges.newChart(e),new edges.HorizontalMultibar(e)},HorizontalMultibar:function(e){this.defaultRenderer=e.defaultRenderer||"newHorizontalMultibarRenderer"},newMultibar:function(e){return e||(e={}),edges.Multibar.prototype=edges.newChart(e),new edges.Multibar(e)},Multibar:function(e){this.defaultRenderer=e.defaultRenderer||"newMultibarRenderer"},newSimpleLineChart:function(e){return e||(e={}),edges.SimpleLineChart.prototype=edges.newChart(e),new edges.SimpleLineChart(e)},SimpleLineChart:function(e){this.xAxisLabel=e.xAxisLabel||"",this.yAxisLabel=e.yAxisLabel||"",this.defaultRenderer=e.defaultRenderer||"newSimpleLineChartRenderer"}});