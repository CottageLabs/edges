$.extend(!0,edges,{bs3:{newFullSearchControllerRenderer:function(e){return e||(e={}),edges.bs3.FullSearchControllerRenderer.prototype=edges.newRenderer(e),new edges.bs3.FullSearchControllerRenderer(e)},FullSearchControllerRenderer:function(e){this.searchButton=e.searchButton||!1,this.freetextSubmitDelay=edges.getParam(e.freetextSubmitDelay,500),this.fadeIn=e.fadeIn||800,this.shareLink=e.shareLink||!1,this.showShortUrl=!1,this.namespace="edges-bs3-search-controller",this.draw=function(){function e(e){var s=e.keyCode?e.keyCode:e.which;return 13===s}var s=this.component,t="&nbsp;";if(s.sortOptions&&s.sortOptions.length>0){var i=edges.css_classes(this.namespace,"direction",this),n=edges.css_classes(this.namespace,"sortby",this);t='<div class="form-inline">                             <div class="form-group">                                 <div class="input-group">                                     <span class="input-group-btn">                                         <button type="button" class="btn btn-default btn-sm '+i+'" title="" href="#"></button>                                     </span>                                     <select class="form-control input-sm '+n+'">                                         <option value="_score">Relevance</option>';for(var o=0;o<s.sortOptions.length;o++){var c=s.sortOptions[o].field,a=s.sortOptions[o].display;t+='<option value="'+c+'">'+edges.escapeHtml(a)+"</option>"}t+=" </select>                                 </div>                             </div>                         </div>"}var r="";if(s.fieldOptions&&s.fieldOptions.length>0){var l=edges.css_classes(this.namespace,"field",this);r+='<select class="form-control input-sm '+l+'" style="width: 120px">',r+='<option value="">search all</option>';for(var o=0;o<s.fieldOptions.length;o++){var h=s.fieldOptions[o];r+='<option value="'+h.field+'">'+edges.escapeHtml(h.display)+"</option>"}r+="</select>"}var p=edges.css_classes(this.namespace,"reset",this),d=edges.css_classes(this.namespace,"text",this),g=edges.css_classes(this.namespace,"search",this),m=edges.css_id(this.namespace,"text",this),u='<div class="form-inline pull-right">                         <div class="form-group">                             <div class="input-group">                                 <span class="input-group-btn">                                     <button type="button" class="btn btn-danger btn-sm '+p+'" title="Clear all search parameters and start again">                                         <span class="glyphicon glyphicon-remove"></span>                                     </button>                                 </span> '+r+'                                <input type="text" id="'+m+'" class="form-control input-sm '+d+'" name="q" value="" placeholder="Search" style="width: 200px" />                                 <span class="input-group-btn">                                     <button type="button" class="btn btn-info btn-sm '+g+'">                                         <span class="glyphicon glyphicon-white glyphicon-search"></span>                                     </button>                                 </span>                             </div>                         </div>                     </div>',v='<div class="row"><div class="col-md-5">{{SORT}}</div><div class="col-md-7">{{SEARCH}}</div></div>';if(v=v.replace(/{{SORT}}/g,t).replace(/{{SEARCH}}/g,u),s.context.html(v),s.sortOptions&&s.sortOptions.length>0&&(this.setUISortDir(),this.setUISortField()),s.fieldOptions&&s.fieldOptions.length>0&&this.setUISearchField(),this.setUISearchText(),s.sortOptions&&s.sortOptions.length>0){var f=edges.css_class_selector(this.namespace,"direction",this),S=edges.css_class_selector(this.namespace,"sortby",this);edges.on(f,"click",this,"changeSortDir"),edges.on(S,"change",this,"changeSortBy")}if(s.fieldOptions&&s.fieldOptions.length>0){var y=edges.css_class_selector(this.namespace,"field",this);edges.on(y,"change",this,"changeSearchField")}var b=edges.css_class_selector(this.namespace,"text",this);this.freetextSubmitDelay>-1?edges.on(b,"keyup",this,"setSearchText",this.freetextSubmitDelay):edges.on(b,"keyup",this,"setSearchText",!1,e);var _=edges.css_class_selector(this.namespace,"reset",this);edges.on(_,"click",this,"clearSearch");var x=edges.css_class_selector(this.namespace,"search",this);edges.on(x,"click",this,"doSearch")},this.setUISortDir=function(){var e=edges.css_class_selector(this.namespace,"direction",this),s=this.component.jq(e);"asc"===this.component.sortDir?(s.html('sort <i class="glyphicon glyphicon-arrow-up"></i> by'),s.attr("title","Current order ascending. Click to change to descending")):(s.html('sort <i class="glyphicon glyphicon-arrow-down"></i> by'),s.attr("title","Current order descending. Click to change to ascending"))},this.setUISortField=function(){if(this.component.sortBy){var e=edges.css_class_selector(this.namespace,"sortby",this),s=this.component.jq(e);s.val(this.component.sortBy)}},this.setUISearchField=function(){if(this.component.searchField){var e=edges.css_class_selector(this.namespace,"field",this),s=this.component.jq(e);s.val(this.component.searchField)}},this.setUISearchText=function(){if(this.component.searchString){var e=edges.css_class_selector(this.namespace,"text",this),s=this.component.jq(e);s.val(this.component.searchString)}},this.changeSortDir=function(e){this.component.changeSortDir()},this.changeSortBy=function(e){var s=this.component.jq(e).val();this.component.setSortBy(s)},this.changeSearchField=function(e){var s=this.component.jq(e).val();this.component.setSearchField(s)},this.setSearchText=function(e){var s=this.component.jq(e).val();this.component.setSearchText(s)},this.clearSearch=function(e){this.component.clearSearch()},this.doSearch=function(e){var s=edges.css_id_selector(this.namespace,"text",this),t=this.component.jq(s).val();this.component.setSearchText(t)}}}});