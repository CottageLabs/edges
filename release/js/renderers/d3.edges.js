$.extend(edges,{d3:{newGroupedUSStates:function(e){return e||(e={}),edges.d3.GroupedUSStates.prototype=edges.newRenderer(e),new edges.d3.GroupedUSStates(e)},GroupedUSStates:function(e){this.namespace="edges-d3-grouped-us-states",this.loaded=!1,this.draw=function(){if(!this.loaded){this.component.context.html("");var e=this.component.context.get(0),t=edges.css_classes(this.namespace,"tooltip",this),a=(edges.css_classes(this.namespace,"legend",this),edges.css_classes(this.namespace,"map",this)),s=960,n=500,r=d3.geo.albersUsa().translate([s/2,n/2]).scale([1e3]),i=d3.geo.path().projection(r),o=d3.scale.linear().range(["#6699ff","#99cc00","#9966ff","#ff6666","#ffcc66","#eeeeee"]),d=["PADD1","PADD2","PADD3","PADD4","PADD5","Oops, wrong state name"],p=1e4,l=2e4,c=3e4,h=4e4,f=5e4,u=d3.select(e).append("svg").attr("width",s).attr("height",n).attr("class",a),g=d3.select(e).append("div").attr("class",t).style("opacity",0);o.domain([0,1,2,3,4,5]),d3.json("/static/data/padd/us-states.json",function(t){u.selectAll("path").data(t.features).enter().append("path").attr("d",i).style("stroke","#fff").style("stroke-width","1").style("fill",function(e){var t=["Washington","Oregon","Nevada","California","Arizona","Alaska","Hawaii"],a=["Montana","Wyoming","Idaho","Utah","Colorado"],s=["New Mexico","Louisiana","Texas","Arkansas","Alabama","Mississippi"],n=["North Dakota","South Dakota","Nebraska","Kansas","Minnesota","Oklahoma","Iowa","Missouri","Wisconsin","Michigan","Illinois","Indiana","Ohio","Kentucky","Tennessee"],r=["Maine","Vermont","New Hampshire","Massachusetts","Connecticut","Rhode Island","New York","New Jersey","Pennsylvania","Maryland","Delaware","West Virginia","Virginia","North Carolina","South Carolina","Georgia","Florida"],i=e.properties.name;return-1!==r.indexOf(i)?"#6699ff":-1!==n.indexOf(i)?"#99cc00":-1!==s.indexOf(i)?"#9966ff":-1!==a.indexOf(i)?"#ff6666":-1!==t.indexOf(i)?"#ffcc66":"#eeeeee"}).on("mouseover",function(e){var t=d3.mouse(u.node()).map(function(e){return parseInt(e)});g.transition().duration(200).style("opacity",1),g.html("<h4>"+e.properties.name+"</h4><p>Last month: 25000</p><p>Prediction: 30000</p>").attr("style","left:"+(t[0]+15)+"px; top:"+(t[1]-35)+"px").style("color","white")}),u.selectAll("text").data(t.features).enter().append("svg:text").text(function(e){return"North Carolina"===e.properties.name?p:"Iowa"===e.properties.name?l:"Texas"===e.properties.name?c:"Wyoming"===e.properties.name?h:"Nevada"===e.properties.name?f:""}).attr("x",function(e){return i.centroid(e)[0]}).attr("y",function(e){return i.centroid(e)[1]}).attr("text-anchor","middle").attr("font-size","36pt").attr("stroke","white").attr("stroke-width","1px").attr("font-weight","bold").attr("fill","#4d4d4d");var a=d3.select(e).append("svg").attr("class",a).attr("width",150).attr("height",200).selectAll("g").data(o.domain().slice()).enter().append("g").attr("transform",function(e,t){return"translate(0,"+20*t+")"});a.append("rect").attr("width",18).attr("height",18).style("fill",o),a.append("text").data(d).attr("x",24).attr("y",9).attr("dy",".35em").text(function(e){return e})}),this.loaded=!0}}}}});