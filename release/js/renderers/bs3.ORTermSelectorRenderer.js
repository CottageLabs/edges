$.extend(!0,edges,{bs3:{newORTermSelectorRenderer:function(e){return e||(e={}),edges.bs3.ORTermSelectorRenderer.prototype=edges.newRenderer(e),new edges.bs3.ORTermSelectorRenderer(e)},ORTermSelectorRenderer:function(e){this.open=void 0!==e.open?e.open:!1,this.togglable=void 0!==e.togglable?e.togglable:!0,this.showCount=e.showCount||!1,this.hideEmpty=e.hideEmpty||!1,this.namespace="edges-bs3-or-term-selector",this.draw=function(){var e=this.component,s=this.namespace,t=edges.css_classes(s,"result",this),i=edges.css_classes(s,"value",this),l=edges.css_classes(s,"filter-remove",this),c=edges.css_classes(s,"facet",this),o=edges.css_classes(s,"header",this),n=edges.css_classes(s,"selections",this),r=edges.css_id(s,"toggle",this),d=edges.css_id(s,"results",this),a="Loading...";if(e.terms.length>0){a="";for(var h=0;h<e.terms.length;h++){var g=e.terms[h];0===g.count&&this.hideEmpty||-1===$.inArray(g.term.toString(),e.selected)&&(a+='<div class="'+t+'"><a href="#" class="'+i+'" data-key="'+edges.escapeHtml(g.term)+'">'+edges.escapeHtml(g.display)+"</a>",this.showCount&&(a+=" ("+g.count+")"),a+="</div>")}}var p="";if(e.selected.length>0)for(var h=0;h<e.selected.length;h++){var m=e.selected[h],v=this._getFilterDef(m);v&&(p+='<div class="'+t+'"><strong>'+edges.escapeHtml(v.display),this.showCount&&(p+=" ("+v.count+")"),p+='&nbsp;<a href="#" class="'+l+'" data-key="'+edges.escapeHtml(v.term)+'">',p+='<i class="glyphicon glyphicon-black glyphicon-remove"></i></a>',p+="</strong></a></div>")}var u="";this.togglable&&(u='<a href="#" id="'+r+'"><i class="glyphicon glyphicon-plus"></i>&nbsp;');var f='<div class="'+c+'">                        <div class="'+o+'"><div class="row">                             <div class="col-md-12">                                '+u+e.display+'</a>                            </div>                        </div></div>                        <div class="row" style="display:none" id="'+d+'">                            <div class="col-md-12">                                {{SELECTED}}                            </div>                            <div class="col-md-12"><div class="'+n+'">                                {{RESULTS}}                            </div></div>                        </div></div>';f=f.replace(/{{RESULTS}}/g,a).replace(/{{SELECTED}}/g,p),e.context.html(f),this.setUIOpen();var y=edges.css_class_selector(s,"value",this),_=edges.css_class_selector(s,"filter-remove",this),S=edges.css_id_selector(s,"toggle",this);edges.on(y,"click",this,"termSelected"),edges.on(S,"click",this,"toggleOpen"),edges.on(_,"click",this,"removeFilter")},this.setUIOpen=function(){var e=edges.css_id_selector(this.namespace,"results",this),s=edges.css_id_selector(this.namespace,"toggle",this),t=this.component.jq(e),i=this.component.jq(s);this.open?(i.find("i").removeClass("glyphicon-plus").addClass("glyphicon-minus"),t.show()):(i.find("i").removeClass("glyphicon-minus").addClass("glyphicon-plus"),t.hide())},this.termSelected=function(e){var s=this.component.jq(e).attr("data-key");this.component.selectTerm(s)},this.removeFilter=function(e){var s=this.component.jq(e).attr("data-key");this.component.removeFilter(s)},this.toggleOpen=function(e){this.open=!this.open,this.setUIOpen()},this._getFilterDef=function(e){for(var s=0;s<this.component.terms.length;s++){var t=this.component.terms[s];if(e===t.term)return t}return!1}}}});