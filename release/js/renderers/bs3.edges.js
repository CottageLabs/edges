$.extend(!0,edges,{bs3:{newTabbed:function(e){return e||(e={}),edges.bs3.Tabbed.prototype=edges.newTemplate(e),new edges.bs3.Tabbed(e)},Tabbed:function(e){this.edge=!1,this.hidden={},this.namespace="edges-bs3-tabbed",this.draw=function(e){this.edge=e;var s='<div id="edges-tabbed-view">{{TOPSTRAP}}<div class="row">',t=e.category("top"),i="";if(t.length>0)for(var a=0;a<t.length;a++)i+='<div class="row"><div class="col-md-12"><div id="'+t[a].id+'"></div></div></div>';var n=e.category("lhs"),c="";if(n.length>0){s+='<div class="col-md-3">                        <div id="edges-tabbed-controls" style="padding-top:45px;">{{CONTROLS}}</div>                    </div>',s+='<div class="col-md-9" id="edges-tabbed-panel">';for(var a=0;a<n.length;a++)c+='<div id="'+n[a].id+'"></div>'}else s+='<div class="col-md-12" id="edges-tabbed-panel">';var o=e.category("tab");s+='<div class="row">                        <div class="col-md-12">                            <ul class="nav nav-tabs">{{TABS}}</ul>                        </div>                    </div>';for(var r="",l="",d=[],a=0;a<o.length;a++){var h=o[a],p="edges-tabbed-container-"+h.id;d.push(h.id),r+='<li><a href="#" id="edges-tabbed-tab-'+h.id+'" data-id="'+h.id+'"><strong>'+h.display+"</strong></a></li>",l+='<div class="edges-tabbed-container" id="'+p+'">                            <div class="row">                                <div class="col-md-12">                                     <div class="tab" id="'+h.id+'"></div>                                </div>                             </div>                        </div>'}s+="{{TAB_CONTENTS}}</div></div>",s=s.replace(/{{CONTROLS}}/g,c),s=s.replace(/{{TABS}}/g,r),s=s.replace(/{{TAB_CONTENTS}}/g,l),s=s.replace(/{{TOPSTRAP}}/g,i),e.context.html(s);for(var a=0;a<d.length;a++)this.hideOffScreen("#edges-tabbed-container-"+d[a]);var g=d[0];this.activateTab(g);for(var a=0;a<d.length;a++)$("#edges-tabbed-tab-"+d[a],this.edge.context).click(edges.eventClosure(this,"tabClicked"))},this.hideOffScreen=function(e){var s=$(e,this.edge.context);e in this.hidden||(this.hidden[e]={position:s.css("position"),margin:s.css("margin-left")},$(e,this.edge.context).css("position","absolute").css("margin-left",-9999))},this.bringIn=function(e){var s=this.hidden[e].position,t=this.hidden[e].margin;$(e,this.edge.context).css("position",s).css("margin-left",t),delete this.hidden[e]},this.activateTab=function(e){for(var s=this.edge.category("tab"),t=0;t<s.length;t++){var i=s[t];i.id===e?(this.bringIn("#edges-tabbed-container-"+i.id),$("#edges-tabbed-tab-"+i.id,this.edge.context).parent().addClass("active")):(this.hideOffScreen("#edges-tabbed-container-"+i.id),$("#edges-tabbed-tab-"+i.id,this.edge.context).parent().removeClass("active"))}},this.tabClicked=function(e){var s=$(e).attr("data-id");this.activateTab(s)}},newFacetview:function(e){return e||(e={}),edges.bs3.Facetview.prototype=edges.newTemplate(e),new edges.bs3.Facetview(e)},Facetview:function(e){this.namespace="edges-bs3-facetview",this.draw=function(e){this.edge=e;var s=edges.css_classes(this.namespace,"container"),t=edges.css_classes(this.namespace,"facets"),i=edges.css_classes(this.namespace,"facet"),a=edges.css_classes(this.namespace,"panel"),n=edges.css_classes(this.namespace,"search-controller"),c=edges.css_classes(this.namespace,"selected-filters"),o=edges.css_classes(this.namespace,"pager"),r=edges.css_classes(this.namespace,"searching"),l=edges.css_classes(this.namespace,"results"),d='<div class="'+s+'"><div class="row">',h=e.category("facet"),p="";if(h.length>0){d+='<div class="col-md-3">                        <div class="'+t+'">{{FACETS}}</div>                    </div>',d+='<div class="col-md-9" class="'+a+'">';for(var g=0;g<h.length;g++)p+='<div class="'+i+'"><div id="'+h[g].id+'"></div></div>'}else d+='<div class="col-md-12" class="'+a+'">';var m=e.category("controller");m.length>0&&(d+='<div class="row"><div class="col-md-12"><div class="'+n+'"><div id="'+m[0].id+'"></div></div></div></div>');var v=e.category("selected-filters");v.length>0&&(d+='<div class="row">                                            <div class="col-md-12">                                                <div class="'+c+'"><div id="'+v[0].id+'"></div></div>                                            </div>                                        </div>');var f=e.category("top-pager");f.length>0&&(d+='<div class="row"><div class="col-md-12"><div class="'+o+'"><div id="'+f[0].id+'"></div></div></div></div>');var u=e.category("searching-notification");u.length>0&&(d+='<div class="row"><div class="col-md-12"><div class="'+r+'"><div id="'+u[0].id+'"></div></div></div></div>');var y=e.category("results");y.length>0&&(d+='<div class="row"><div class="col-md-12"><div class="'+l+'" dir="auto"><div id="'+y[0].id+'"></div></div></div></div>');var b=e.category("bottom-pager");b.length>0&&(d+='<div class="row"><div class="col-md-12"><div class="'+o+'"><div id="'+b[0].id+'"></div></div></div></div>'),d+="</div></div></div>",d=d.replace(/{{FACETS}}/g,p),e.context.html(d)}},newTabularResultsRenderer:function(e){return e||(e={}),edges.bs3.TabularResultsRenderer.prototype=edges.newRenderer(e),new edges.bs3.TabularResultsRenderer(e)},TabularResultsRenderer:function(e){this.noResultsText=e.noResultsText||"No results to display",this.defaultCellContent=e.defaultCellContent||"-",this.fieldDisplay=e.fieldDisplay||[],this.namespace="edges-bs3-tabular-results",this.draw=function(){var e=this.noResultsText;this.component.results===!1&&(e="");var s=this.component.results;if(s&&s.length>0){var e='<div class="table-responsive">',t=edges.css_classes(this.namespace,"table",this),i=edges.css_classes(this.namespace,"header",this),a=edges.css_classes(this.namespace,"cell",this);e+='<table class="'+t+'"><thead><tr>_HEADERS_</tr></thead><tbody>';for(var n="",c=0;c<this.fieldDisplay.length;c++){var o=this.fieldDisplay[c].display;n+='<td class="'+i+'">'+o+"</td>"}e=e.replace(/_HEADERS_/g,n);for(var c=0;c<s.length;c++){var r=s[c];e+="<tr>";for(var l=0;l<this.fieldDisplay.length;l++){var d=this.fieldDisplay[l],h=d["default"]?d["default"]:this.defaultCellContent,p=edges.objVal(d.field,r,h),g=edges.css_classes(this.namespace,"cell-"+edges.escapeHtml(d.field),this);e+='<td class="'+a+" "+g+'">'+edges.escapeHtml(p)+"</td>"}e+="</tr>"}e+="</tbody></table></div>"}this.component.context.html(e)}},newResultsDisplayRenderer:function(e){return e||(e={}),edges.bs3.ResultsDisplayRenderer.prototype=edges.newRenderer(e),new edges.bs3.ResultsDisplayRenderer(e)},ResultsDisplayRenderer:function(e){this.noResultsText=e.noResultsText||"No results to display",this.fieldDisplayMap=e.fieldDisplayMap||[],this.arrayValueJoin=e.arrayValueJoin||", ",this.renderFields=[],this.displayMap={},this.namespace="edges-bs-results-display",this.init=function(e){if(Object.getPrototypeOf(this).init.call(this,e),this.fieldDisplayMap.length>0)for(var s=0;s<this.fieldDisplayMap.length;s++)this.renderFields.push(this.fieldDisplayMap[s].field),this.displayMap[this.fieldDisplayMap[s].field]=this.fieldDisplayMap[s].display},this.draw=function(){var e=this.noResultsText;this.component.results===!1&&(e="");var s=this.component.results;if(s&&s.length>0){var t=edges.css_classes(this.namespace,"record",this);e="";for(var i=0;i<s.length;i++){var a=this._renderResult(s[i]);e+='<div class="row"><div class="col-md-12"><div class="'+t+'">'+a+"</div></div></div>"}}var n=edges.css_classes(this.namespace,"container",this),c='<div class="'+n+'">'+e+"</div>";this.component.context.html(c)},this._renderResult=function(e){var s=edges.css_classes(this.namespace,"row",this),t=edges.css_classes(this.namespace,"field",this),i=edges.css_classes(this.namespace,"value",this),a=this.renderFields;0===a.length&&(a=Object.keys(e));for(var n="",c=0;c<a.length;c++){var o=a[c],r=this._getValue(o,e);o in this.displayMap&&(o=this.displayMap[o]),r&&(n+='<div class="'+s+'">                                 <span class="'+t+'">'+edges.escapeHtml(o)+'</span>                                 <span class="'+i+'">'+edges.escapeHtml(r)+"</span>                             </div>")}return n},this._getValue=function(e,s){for(var t=e.split("."),i=s,a=0;a<t.length;a++){var n=t[a];if(!(n in i))return!1;i=i[n]}return $.isArray(i)?i=i.join(this.arrayValueJoin):$.isPlainObject(i)&&(i=!1),i}},newRefiningANDTermSelectorRenderer:function(e){return e||(e={}),edges.bs3.RefiningANDTermSelectorRenderer.prototype=edges.newRenderer(e),new edges.bs3.RefiningANDTermSelectorRenderer(e)},RefiningANDTermSelectorRenderer:function(e){this.hideInactive=e.hideInactive||!1,this.controls=e.controls||!0,this.open=e.open||!1,this.showSelected=e.showSelected||!0,this.sortCycle=e.sortCycle||["count desc","count asc","term desc","term asc"],this.namespace="edges-bs3-refiningand-term-selector",this.draw=function(){var e=this.component,s=this.namespace,t=edges.css_classes(s,"result",this),i=edges.css_classes(s,"value",this),a=edges.css_classes(s,"controls",this),n=edges.css_classes(s,"filter-remove",this),c=edges.css_classes(s,"facet",this),o=edges.css_classes(s,"header",this),r=edges.css_id(s,"controls",this),l=edges.css_id(s,"size",this),d=edges.css_id(s,"order",this),h=edges.css_id(s,"toggle",this),p=edges.css_id(s,"results",this),g="Loading...";if(e.values.length>0){g="";for(var m=[],v=0;v<e.filters.length;v++)m.push(e.filters[v].term.toString());for(var v=0;v<e.values.length;v++){var f=e.values[v];-1===$.inArray(f.term.toString(),m)&&(g+='<div class="'+t+'"><a href="#" class="'+i+'" data-key="'+edges.escapeHtml(f.term)+'">'+edges.escapeHtml(f.display)+"</a> ("+f.count+")</div>")}}var u="";if(this.controls){u='<div class="'+a+'" style="display:none" id="'+r+'"><div class="row">                         <div class="col-md-12">                            <div class="btn-group">                                <button type="button" class="btn btn-default btn-sm" id="'+l+'" title="List Size" href="#">0</button>                                 <button type="button" class="btn btn-default btn-sm" id="'+d+'" title="List Order" href="#"></button>                             </div>                        </div>                    </div></div>'}var y="";if(e.filters.length>0&&this.showSelected)for(var v=0;v<e.filters.length;v++){var b=e.filters[v];y+='<div class="'+t+'"><strong>'+edges.escapeHtml(b.display)+"&nbsp;",y+='<a href="#" class="'+n+'" data-key="'+edges.escapeHtml(b.term)+'">',y+='<i class="glyphicon glyphicon-black glyphicon-remove"></i></a>',y+="</strong></a></div>"}var _='<div class="'+c+'">                        <div class="'+o+'"><div class="row">                             <div class="col-md-12">                                <a href="#" id="'+h+'"><i class="glyphicon glyphicon-plus"></i>&nbsp;'+e.display+'</a>                            </div>                        </div></div>                        {{CONTROLS}}                        <div class="row" style="display:none" id="'+p+'">                            <div class="col-md-12">                                {{SELECTED}}                                {{RESULTS}}                            </div>                        </div></div>';_=_.replace(/{{RESULTS}}/g,g).replace(/{{CONTROLS}}/g,u).replace(/{{SELECTED}}/g,y),e.context.html(_),this.setUISize(),this.setUISort(),this.setUIOpen();var S=edges.css_class_selector(s,"value",this),R=edges.css_class_selector(s,"filter-remove",this),w=edges.css_id_selector(s,"toggle",this),T=edges.css_id_selector(s,"size",this),C=edges.css_id_selector(s,"order",this);edges.on(S,"click",this,"termSelected"),edges.on(w,"click",this,"toggleOpen"),edges.on(R,"click",this,"removeFilter"),edges.on(T,"click",this,"changeSize"),edges.on(C,"click",this,"changeSort")},this.setUIOpen=function(){var e=edges.css_id_selector(this.namespace,"results",this),s=edges.css_id_selector(this.namespace,"controls",this),t=edges.css_id_selector(this.namespace,"toggle",this),i=this.component.jq(e),a=this.component.jq(s),n=this.component.jq(t);this.open?(n.find("i").removeClass("glyphicon-plus").addClass("glyphicon-minus"),a.show(),i.show()):(n.find("i").removeClass("glyphicon-minus").addClass("glyphicon-plus"),a.hide(),i.hide())},this.setUISize=function(){var e=edges.css_id_selector(this.namespace,"size",this);this.component.jq(e).html(this.component.size)},this.setUISort=function(){var e=edges.css_id_selector(this.namespace,"order",this),s=this.component.jq(e);"count"===this.component.orderBy?"asc"===this.component.orderDir?s.html('count <i class="glyphicon glyphicon-arrow-down"></i>'):"desc"===this.component.orderDir&&s.html('count <i class="glyphicon glyphicon-arrow-up"></i>'):"term"===this.component.orderBy&&("asc"===this.component.orderDir?s.html('a-z <i class="glyphicon glyphicon-arrow-down"></i>'):"desc"===this.component.orderDir&&s.html('a-z <i class="glyphicon glyphicon-arrow-up"></i>'))},this.termSelected=function(e){var s=this.component.jq(e).attr("data-key");this.component.selectTerm(s)},this.removeFilter=function(e){var s=this.component.jq(e).attr("data-key");this.component.removeFilter(s)},this.toggleOpen=function(e){this.open=!this.open,this.setUIOpen()},this.changeSize=function(e){var s=prompt("Currently displaying "+this.component.size+" results per page. How many would you like instead?");s&&this.component.changeSize(parseInt(s))},this.changeSort=function(e){var s=this.component.orderBy+" "+this.component.orderDir,t=$.inArray(s,this.sortCycle),i=this.sortCycle[(t+1)%4],a=i.split(" ");this.component.changeSort(a[0],a[1])}},newORTermSelectorRenderer:function(e){return e||(e={}),edges.bs3.ORTermSelectorRenderer.prototype=edges.newRenderer(e),new edges.bs3.ORTermSelectorRenderer(e)},ORTermSelectorRenderer:function(e){this.open=void 0!==e.open?e.open:!1,this.togglable=void 0!==e.togglable?e.togglable:!0,this.showCount=e.showCount||!1,this.hideEmpty=e.hideEmpty||!1,this.namespace="edges-bs3-or-term-selector",this.draw=function(){var e=this.component,s=this.namespace,t=edges.css_classes(s,"result",this),i=edges.css_classes(s,"value",this),a=edges.css_classes(s,"filter-remove",this),n=edges.css_classes(s,"facet",this),c=edges.css_classes(s,"header",this),o=edges.css_classes(s,"selections",this),r=edges.css_id(s,"toggle",this),l=edges.css_id(s,"results",this),d="Loading...";if(e.terms.length>0){d="";for(var h=0;h<e.terms.length;h++){var p=e.terms[h];0===p.count&&this.hideEmpty||-1===$.inArray(p.term.toString(),e.selected)&&(d+='<div class="'+t+'"><a href="#" class="'+i+'" data-key="'+edges.escapeHtml(p.term)+'">'+edges.escapeHtml(p.display)+"</a>",this.showCount&&(d+=" ("+p.count+")"),d+="</div>")}}var g="";if(e.selected.length>0)for(var h=0;h<e.selected.length;h++){var m=e.selected[h],v=this._getFilterDef(m);v&&(g+='<div class="'+t+'"><strong>'+edges.escapeHtml(v.display),this.showCount&&(g+=" ("+v.count+")"),g+='&nbsp;<a href="#" class="'+a+'" data-key="'+edges.escapeHtml(v.term)+'">',g+='<i class="glyphicon glyphicon-black glyphicon-remove"></i></a>',g+="</strong></a></div>")}var f="";this.togglable&&(f='<a href="#" id="'+r+'"><i class="glyphicon glyphicon-plus"></i>&nbsp;');var u='<div class="'+n+'">                        <div class="'+c+'"><div class="row">                             <div class="col-md-12">                                '+f+e.display+'</a>                            </div>                        </div></div>                        <div class="row" style="display:none" id="'+l+'">                            <div class="col-md-12">                                {{SELECTED}}                            </div>                            <div class="col-md-12"><div class="'+o+'">                                {{RESULTS}}                            </div></div>                        </div></div>';u=u.replace(/{{RESULTS}}/g,d).replace(/{{SELECTED}}/g,g),e.context.html(u),this.setUIOpen();var y=edges.css_class_selector(s,"value",this),b=edges.css_class_selector(s,"filter-remove",this),_=edges.css_id_selector(s,"toggle",this);edges.on(y,"click",this,"termSelected"),edges.on(_,"click",this,"toggleOpen"),edges.on(b,"click",this,"removeFilter")},this.setUIOpen=function(){var e=edges.css_id_selector(this.namespace,"results",this),s=edges.css_id_selector(this.namespace,"toggle",this),t=this.component.jq(e),i=this.component.jq(s);this.open?(i.find("i").removeClass("glyphicon-plus").addClass("glyphicon-minus"),t.show()):(i.find("i").removeClass("glyphicon-minus").addClass("glyphicon-plus"),t.hide())},this.termSelected=function(e){var s=this.component.jq(e).attr("data-key");this.component.selectTerm(s)},this.removeFilter=function(e){var s=this.component.jq(e).attr("data-key");this.component.removeFilter(s)},this.toggleOpen=function(e){this.open=!this.open,this.setUIOpen()},this._getFilterDef=function(e){for(var s=0;s<this.component.terms.length;s++){var t=this.component.terms[s];if(e===t.term)return t}return!1}},newBasicRangeSelectorRenderer:function(e){return e||(e={}),edges.bs3.BasicRangeSelectorRenderer.prototype=edges.newRenderer(e),new edges.bs3.BasicRangeSelectorRenderer(e)},BasicRangeSelectorRenderer:function(e){this.hideEmptyRange=void 0===e.hideEmptyRange?!0:e.hideEmptyRange,this.open=e.open||!1,this.showSelected=e.showSelected||!0,this.namespace="edges-bs3-basic-range-selector",this.draw=function(){var e="Loading...",s=edges.css_classes(this.namespace,"result",this),t=edges.css_classes(this.namespace,"value",this),i=edges.css_classes(this.namespace,"filter-remove",this),a=edges.css_classes(this.namespace,"facet",this),n=edges.css_classes(this.namespace,"header",this),c=edges.css_id(this.namespace,"toggle",this),o=edges.css_id(this.namespace,"results",this);if(this.component.values.length>0&&(e="",0===this.component.filters.length))for(var r=0;r<this.component.values.length;r++){var l=this.component.values[r];(l.count>0||!this.hideEmptyRange)&&(e+='<div class="'+s+'"><a href="#" class="'+t+'" data-from="'+l.from+'" data-to="'+l.to+'">'+edges.escapeHtml(l.display)+"</a> ("+l.count+")</div>")}var d="";if(this.component.filters.length>0&&this.showSelected)for(var r=0;r<this.component.filters.length;r++){var h=this.component.filters[r];d+='<div class="'+s+'"><strong>'+edges.escapeHtml(h.display)+"&nbsp;",d+='<a href="#" class="'+i+'" data-from="'+h.from+'" data-to="'+h.to+'">',d+='<i class="glyphicon glyphicon-black glyphicon-remove"></i></a>',d+="</strong></a></div>"}var p='<div class="'+a+'">                        <div class="'+n+'"><div class="row">                             <div class="col-md-12">                                <a href="#" id="'+c+'"><i class="glyphicon glyphicon-plus"></i>&nbsp;'+edges.escapeHtml(this.component.display)+'</a>                            </div>                        </div></div>                        <div class="row" style="display:none" id="'+o+'">                            <div class="col-md-12">                                {{SELECTED}}                                {{RESULTS}}                            </div>                        </div></div>';p=p.replace(/{{RESULTS}}/g,e).replace(/{{SELECTED}}/g,d),this.component.context.html(p),this.setUIOpen();var g=edges.css_id_selector(this.namespace,"toggle",this),m=edges.css_class_selector(this.namespace,"value",this),v=edges.css_class_selector(this.namespace,"filter-remove",this);edges.on(g,"click",this,"toggleOpen"),edges.on(m,"click",this,"rangeSelected"),edges.on(v,"click",this,"removeFilter")},this.setUIOpen=function(){var e=edges.css_id_selector(this.namespace,"results",this),s=edges.css_id_selector(this.namespace,"toggle",this),t=this.component.jq(e),i=this.component.jq(s);this.open?(i.find("i").removeClass("glyphicon-plus").addClass("glyphicon-minus"),t.show()):(i.find("i").removeClass("glyphicon-minus").addClass("glyphicon-plus"),t.hide())},this.toggleOpen=function(e){this.open=!this.open,this.setUIOpen()},this.rangeSelected=function(e){var s=this.component.jq(e).attr("data-from"),t=this.component.jq(e).attr("data-to");this.component.selectRange(parseFloat(s),parseFloat(t))},this.removeFilter=function(e){var s=this.component.jq(e).attr("data-from"),t=this.component.jq(e).attr("data-to");this.component.removeFilter(parseFloat(s),parseFloat(t))}},newFullSearchControllerRenderer:function(e){return e||(e={}),edges.bs3.FullSearchControllerRenderer.prototype=edges.newRenderer(e),new edges.bs3.FullSearchControllerRenderer(e)},FullSearchControllerRenderer:function(e){this.searchButton=e.searchButton||!1,this.freetextSubmitDelay=edges.getParam(e.freetextSubmitDelay,500),this.fadeIn=e.fadeIn||800,this.shareLink=e.shareLink||!1,this.showShortUrl=!1,this.namespace="edges-bs3-search-controller",this.draw=function(){function e(e){var s=e.keyCode?e.keyCode:e.which;return 13===s}var s=this.component,t="&nbsp;";if(s.sortOptions&&s.sortOptions.length>0){var i=edges.css_classes(this.namespace,"direction",this),a=edges.css_classes(this.namespace,"sortby",this);t='<div class="form-inline">                             <div class="form-group">                                 <div class="input-group">                                     <span class="input-group-btn">                                         <button type="button" class="btn btn-default btn-sm '+i+'" title="" href="#"></button>                                     </span>                                     <select class="form-control input-sm '+a+'">                                         <option value="_score">Relevance</option>';for(var n=0;n<s.sortOptions.length;n++){var c=s.sortOptions[n].field,o=s.sortOptions[n].display;t+='<option value="'+c+'">'+edges.escapeHtml(o)+"</option>"}t+=" </select>                                 </div>                             </div>                         </div>"}var r="";if(s.fieldOptions&&s.fieldOptions.length>0){var l=edges.css_classes(this.namespace,"field",this);r+='<select class="form-control input-sm '+l+'" style="width: 120px">',r+='<option value="">search all</option>';for(var n=0;n<s.fieldOptions.length;n++){var d=s.fieldOptions[n];r+='<option value="'+d.field+'">'+edges.escapeHtml(d.display)+"</option>"}r+="</select>"}var h=edges.css_classes(this.namespace,"reset",this),p=edges.css_classes(this.namespace,"text",this),g=edges.css_classes(this.namespace,"search",this),m=edges.css_id(this.namespace,"text",this),v='<div class="form-inline pull-right">                         <div class="form-group">                             <div class="input-group">                                 <span class="input-group-btn">                                     <button type="button" class="btn btn-danger btn-sm '+h+'" title="Clear all search parameters and start again">                                         <span class="glyphicon glyphicon-remove"></span>                                     </button>                                 </span> '+r+'                                <input type="text" id="'+m+'" class="form-control input-sm '+p+'" name="q" value="" placeholder="Search" style="width: 200px" />                                 <span class="input-group-btn">                                     <button type="button" class="btn btn-info btn-sm '+g+'">                                         <span class="glyphicon glyphicon-white glyphicon-search"></span>                                     </button>                                 </span>                             </div>                         </div>                     </div>',f='<div class="row"><div class="col-md-5">{{SORT}}</div><div class="col-md-7">{{SEARCH}}</div></div>';if(f=f.replace(/{{SORT}}/g,t).replace(/{{SEARCH}}/g,v),s.context.html(f),s.sortOptions&&s.sortOptions.length>0&&(this.setUISortDir(),this.setUISortField()),s.fieldOptions&&s.fieldOptions.length>0&&this.setUISearchField(),this.setUISearchText(),s.sortOptions&&s.sortOptions.length>0){var u=edges.css_class_selector(this.namespace,"direction",this),y=edges.css_class_selector(this.namespace,"sortby",this);edges.on(u,"click",this,"changeSortDir"),edges.on(y,"change",this,"changeSortBy")}if(s.fieldOptions&&s.fieldOptions.length>0){var b=edges.css_class_selector(this.namespace,"field",this);edges.on(b,"change",this,"changeSearchField")}var _=edges.css_class_selector(this.namespace,"text",this);this.freetextSubmitDelay>-1?edges.on(_,"keyup",this,"setSearchText",this.freetextSubmitDelay):edges.on(_,"keyup",this,"setSearchText",!1,e);var S=edges.css_class_selector(this.namespace,"reset",this);edges.on(S,"click",this,"clearSearch");var R=edges.css_class_selector(this.namespace,"search",this);edges.on(R,"click",this,"doSearch")},this.setUISortDir=function(){var e=edges.css_class_selector(this.namespace,"direction",this),s=this.component.jq(e);"asc"===this.component.sortDir?(s.html('sort <i class="glyphicon glyphicon-arrow-up"></i> by'),s.attr("title","Current order ascending. Click to change to descending")):(s.html('sort <i class="glyphicon glyphicon-arrow-down"></i> by'),s.attr("title","Current order descending. Click to change to ascending"))},this.setUISortField=function(){if(this.component.sortBy){var e=edges.css_class_selector(this.namespace,"sortby",this),s=this.component.jq(e);s.val(this.component.sortBy)}},this.setUISearchField=function(){if(this.component.searchField){var e=edges.css_class_selector(this.namespace,"field",this),s=this.component.jq(e);s.val(this.component.searchField)}},this.setUISearchText=function(){if(this.component.searchString){var e=edges.css_class_selector(this.namespace,"text",this),s=this.component.jq(e);s.val(this.component.searchString)}},this.changeSortDir=function(e){this.component.changeSortDir()},this.changeSortBy=function(e){var s=this.component.jq(e).val();this.component.setSortBy(s)},this.changeSearchField=function(e){var s=this.component.jq(e).val();this.component.setSearchField(s)},this.setSearchText=function(e){var s=this.component.jq(e).val();this.component.setSearchText(s)},this.clearSearch=function(e){this.component.clearSearch()},this.doSearch=function(e){var s=edges.css_id_selector(this.namespace,"text",this),t=this.component.jq(s).val();this.component.setSearchText(t)}},newNumericRangeEntryRenderer:function(e){return e||(e={}),edges.bs3.NumericRangeEntryRenderer.prototype=edges.newRenderer(e),new edges.bs3.NumericRangeEntryRenderer(e)},NumericRangeEntryRenderer:function(e){this.fromText="From",this.toText="To",this.namespace="edges-bs3-numeric-range-entry",this.draw=function(){for(var e=edges.css_classes(this.namespace,"facet",this),s=edges.css_classes(this.namespace,"header",this),t=edges.css_classes(this.namespace,"label",this),i=edges.css_classes(this.namespace,"select",this),a=edges.css_id(this.namespace,"toggle",this),n=edges.css_id(this.namespace,"form",this),c=edges.css_id(this.namespace,"from",this),o=edges.css_id(this.namespace,"to",this),r="",l=[],d=this.component.lower===!1?0:this.component.lower,h=this.component.upper===!1?0:this.component.upper,p=d;h>p;p+=this.component.increment)l.push(p);l.push(h);for(var g="",p=0;p<l.length;p++)g+='<option value="'+l[p]+'">'+l[p]+"</option>";r+='<div class="row"><div class="col-md-4"><span class="'+t+'">'+this.fromText+"</span></div>",r+='<div class="col-md-8"><select name="'+c+'" id="'+c+'" class="form-control '+i+'">'+g+"</select></div>",r+="</div>",r+='<div class="row"><div class="col-md-4"><span class="'+t+'">'+this.toText+"</span></div>",r+='<div class="col-md-8"><select name="'+o+'" id="'+o+'" class="form-control '+i+'">'+g+"</select></div>",r+="</div></div>";var m='<div class="'+e+'">                        <div class="'+s+'"><div class="row">                             <div class="col-md-12">                                <a href="#" id="'+a+'"><i class="glyphicon glyphicon-plus"></i>&nbsp;'+this.component.display+'</a>                            </div>                        </div></div>                        <div class="row" style="display:none" id="'+n+'">                            <div class="col-md-12">                                <form>{{THEFORM}}</form>                            </div>                        </div></div>';m=m.replace(/{{THEFORM}}/g,r),this.component.context.html(m),this.setUIFrom(),this.setUITo(),this.setUIOpen();var v=edges.css_id_selector(this.namespace,"from",this),f=edges.css_id_selector(this.namespace,"to",this),u=edges.css_id_selector(this.namespace,"toggle",this);edges.on(v,"change",this,"fromChanged"),edges.on(f,"change",this,"toChanged"),edges.on(u,"click",this,"toggleOpen")},this.setUIOpen=function(){var e=edges.css_id_selector(this.namespace,"form",this),s=edges.css_id_selector(this.namespace,"toggle",this),t=this.component.jq(e),i=this.component.jq(s);this.open?(i.find("i").removeClass("glyphicon-plus").addClass("glyphicon-minus"),t.show()):(i.find("i").removeClass("glyphicon-minus").addClass("glyphicon-plus"),t.hide())},this.setUIFrom=function(){if(this.component.from){var e=edges.css_id_selector(this.namespace,"from",this),s=this.component.jq(e);s.val(this.component.from)}},this.setUITo=function(){if(this.component.to){var e=edges.css_id_selector(this.namespace,"to",this),s=this.component.jq(e);s.val(this.component.to)}},this.toggleOpen=function(e){this.open=!this.open,this.setUIOpen()},this.fromChanged=function(e){var s=parseInt($(e).val()),t=edges.css_id_selector(this.namespace,"to",this),i=this.component.jq(t),a=parseInt(i.val());s>a&&(a=s,i.val(s)),this.component.selectRange(s,a)},this.toChanged=function(e){var s=parseInt($(e).val()),t=edges.css_id_selector(this.namespace,"from",this),i=this.component.jq(t),a=parseInt(i.val());a>s&&(a=s,i.val(s)),this.component.selectRange(a,s)}},newMultiDateRangeRenderer:function(e){return e||(e={}),edges.bs3.MultiDateRangeRenderer.prototype=edges.newRenderer(e),new edges.bs3.MultiDateRangeRenderer(e)},MultiDateRangeRenderer:function(e){this.dre=!1,this.selectId=!1,this.fromId=!1,this.toId=!1,this.selectJq=!1,this.fromJq=!1,this.toJq=!1,this.draw=function(){var e=this.component;this.selectId=e.id+"_date-type",this.fromId=e.id+"_date-from",this.toId=e.id+"_date-to";for(var s="",t=0;t<e.fields.length;t++){var i=e.fields[t],a=e.currentField==i.field?' selected="selected" ':"";s+='<option value="'+i.field+'"'+a+">"+i.display+"</option>"}var n='<select class="multi-date-range-select" name="'+this.selectId+'" id="'+this.selectId+'">'+s+"</select><br>";n+='<label for="'+this.fromId+'">From</label>                    <input class="multi-date-range-input" type="text" name="'+this.fromId+'" id="'+this.fromId+'" placeholder="earliest date">                    <label for="'+this.toId+'">To</label>                    <input class="multi-date-range-input" type="text" name="'+this.toId+'" id="'+this.toId+'" placeholder="latest date">',e.context.html(n),this.selectJq=e.jq("#"+this.selectId),this.fromJq=e.jq("#"+this.fromId),this.toJq=e.jq("#"+this.toId),this.fromJq.datepicker({dateFormat:"dd-mm-yy",constrainInput:!0,changeYear:!0,maxDate:0}).bind("change",edges.eventClosure(this,"dateChanged")),this.toJq.datepicker({dateFormat:"dd-mm-yy",constrainInput:!0,defaultDate:0,changeYear:!0,maxDate:0}).bind("change",edges.eventClosure(this,"dateChanged")),this.selectJq.select2().bind("change",edges.eventClosure(this,"dateChanged")),this.prepDates()},this.dateChanged=function(e){var s=this.selectJq.select2("val");this.component.changeField(s);var t=this.fromJq.val();t?(t=$.datepicker.parseDate("dd-mm-yy",t),t=$.datepicker.formatDate("yy-mm-dd",t),this.component.setFrom(t)):this.component.setFrom(!1);var i=this.toJq.val();i?(i=$.datepicker.parseDate("dd-mm-yy",i),i=$.datepicker.formatDate("yy-mm-dd",i),this.component.setTo(i)):this.component.setTo(!1),this.component.triggerSearch()},this.prepDates=function(){var e=this.component.currentEarliest(),s=this.component.currentLatest(),t=this.component.fromDate,i=this.component.toDate;e&&(this.fromJq.datepicker("option","minDate",e),this.fromJq.datepicker("option","defaultDate",e),this.toJq.datepicker("option","minDate",e)),s&&(this.fromJq.datepicker("option","maxDate",s),this.toJq.datepicker("option","maxDate",s),this.toJq.datepicker("option","defaultDate",s)),
t&&(t=$.datepicker.parseDate("yy-mm-dd",t),t=$.datepicker.formatDate("dd-mm-yy",t),this.fromJq.val(t)),i&&(i=$.datepicker.parseDate("yy-mm-dd",i),i=$.datepicker.formatDate("dd-mm-yy",i),this.toJq.val(i))}},newSelectedFiltersRenderer:function(e){return e||(e={}),edges.bs3.SelectedFiltersRenderer.prototype=edges.newRenderer(e),new edges.bs3.SelectedFiltersRenderer(e)},SelectedFiltersRenderer:function(e){this.showFilterField=e.showFilterField||!0,this.namespace="edges-bs3-selected-filters",this.draw=function(){for(var e=this.component,s=this.namespace,t=edges.css_classes(s,"field",this),i=edges.css_classes(s,"fieldname",this),a=edges.css_classes(s,"value",this),n=edges.css_classes(s,"remove",this),c=edges.css_classes(s,"rel",this),o=edges.css_classes(s,"container",this),r="",l=Object.keys(e.mustFilters),d=0;d<l.length;d++){var h=l[d],p=e.mustFilters[h];r+='<span class="'+t+'">',this.showFilterField&&(r+='<span class="'+i+'">'+p.display+":</span>");for(var g=0;g<p.values.length;g++){var m=p.values[g];if(r+='<span class="'+a+'">'+m.display+"</span>","term"==p.filter||"terms"===p.filter)r+='<a class="'+n+'" data-bool="must" data-filter="'+p.filter+'" data-field="'+h+'" data-value="'+m.val+'" alt="Remove" title="Remove" href="#">',r+='<i class="glyphicon glyphicon-black glyphicon-remove"></i>',r+="</a>";else if("range"===p.filter){var v=m.from?' data-from="'+m.from+'" ':"",f=m.to?' data-to="'+m.to+'" ':"";r+='<a class="'+n+'" data-bool="must" data-filter="'+p.filter+'" data-field="'+h+'" '+v+f+' alt="Remove" title="Remove" href="#">',r+='<i class="glyphicon glyphicon-black glyphicon-remove"></i>',r+="</a>"}p.rel&&g+1<p.values.length&&(r+='<span class="'+c+'">'+p.rel+"</span>")}r+="</span>"}if(""!==r){var u='<div class="'+o+'">{{FILTERS}}</div>';u=u.replace(/{{FILTERS}}/g,r),e.context.html(u);var y=edges.css_class_selector(s,"remove",this);edges.on(y,"click",this,"removeFilter")}else e.context.html("")},this.removeFilter=function(e){var s=this.component.jq(e),t=s.attr("data-field"),i=s.attr("data-filter"),a=s.attr("data-bool"),n=!1;if("terms"===i||"term"===i)n=s.attr("data-value");else if("range"===i){n={};var c=s.attr("data-from"),o=s.attr("data-to");c&&(n.from=parseInt(c)),o&&(n.to=parseInt(o))}this.component.removeFilter(a,i,t,n)}},newSearchingNotificationRenderer:function(e){return e||(e={}),edges.bs3.SearchingNotificationRenderer.prototype=edges.newRenderer(e),new edges.bs3.SearchingNotificationRenderer(e)},SearchingNotificationRenderer:function(e){this.searchingMessage=e.searchingMessage||"Loading, please wait...",this.namespace="edges-bs3-searching-notification",this.draw=function(){var e="";if(this.component.searching){var s=edges.css_classes(this.namespace,"bar",this);e='<div class="progress-bar progress-bar-info progress-bar-striped active '+s+'">                             '+this.searchingMessage+"                         </div>"}this.component.context.html(e)}},newPagerRenderer:function(e){return e||(e={}),edges.bs3.PagerRenderer.prototype=edges.newRenderer(e),new edges.bs3.PagerRenderer(e)},PagerRenderer:function(e){this.scroll=e.scroll||!0,this.scrollSelector=e.scrollSelector||"body",this.sizeOptions=e.sizeOptions||[10,25,50,100],this.namespace="edges-bs3-pager",this.draw=function(){if(this.component.total===!1||0===this.component.total)return void this.component.context.html("");var e=edges.css_classes(this.namespace,"container",this),s=edges.css_classes(this.namespace,"total",this),t=edges.css_classes(this.namespace,"nav",this),i=edges.css_classes(this.namespace,"first",this),a=edges.css_classes(this.namespace,"prev",this),n=edges.css_classes(this.namespace,"page",this),c=edges.css_classes(this.namespace,"next",this),o=edges.css_classes(this.namespace,"size",this),r='<span class="'+s+'">'+this.component.total+"</span> results found",l='<div class="form-inline">'+r+'<div class="form-group"><select class="form-control input-sm '+o+'" name="'+this.component.id+'-page-size">{{SIZES}}</select></div> per page</div>',d="",h=this.sizeOptions.slice(0);-1===$.inArray(this.component.pageSize,h)&&h.push(this.component.pageSize),h.sort(function(e,s){return e-s});for(var p=0;p<h.length;p++){var g=h[p],m="";g===this.component.pageSize&&(m="selected='selected'"),d+='<option name="'+g+'" '+m+">"+g+"</option>"}l=l.replace(/{{SIZES}}/g,d);var v='<a href="#" class="'+i+'">First</a>',f='<a href="#" class="'+a+'">Prev</a>';1===this.component.page&&(v='<span class="'+i+' disabled">First</span>',f='<span class="'+a+' disabled">Prev</span>');var u='<a href="#" class="'+c+'">Next</a>';this.component.page===this.component.totalPages&&(u='<span class="'+c+' disabled">Next</a>');var y='<div class="'+t+'">'+v+f+'<span class="'+n+'">Page '+this.component.page+" of "+this.component.totalPages+"</span>"+u+"</div>",b='<div class="'+e+'"><div class="row"><div class="col-md-6">{{COUNT}}</div><div class="col-md-6">{{NAV}}</div></div></div>';b=b.replace(/{{COUNT}}/g,l).replace(/{{NAV}}/g,y),this.component.context.html(b);var _=edges.css_class_selector(this.namespace,"first",this),S=edges.css_class_selector(this.namespace,"prev",this),R=edges.css_class_selector(this.namespace,"next",this),w=edges.css_class_selector(this.namespace,"size",this);1!==this.component.page&&(edges.on(_,"click",this,"goToFirst"),edges.on(S,"click",this,"goToPrev")),this.component.page!==this.component.totalPages&&edges.on(R,"click",this,"goToNext"),edges.on(w,"change",this,"changeSize")},this.doScroll=function(){$(this.scrollSelector).animate({scrollTop:$(this.scrollSelector).offset().top},1)},this.goToFirst=function(e){this.scroll&&this.doScroll(),this.component.setFrom(1)},this.goToPrev=function(e){this.scroll&&this.doScroll(),this.component.decrementPage()},this.goToNext=function(e){this.scroll&&this.doScroll(),this.component.incrementPage()},this.changeSize=function(e){var s=$(e).val();this.component.setSize(s)}}}});